CREATE TABLE STUDENT (
         STUDENT_ID 	 	 VARCHAR(50) NOT NULL,
         FNAME            	 VARCHAR(50) NOT NULL,
         LNAME        	 	 VARCHAR(80) NOT NULL,
         DOB      	 	 DATE NOT NULL,
         GENDER           	 ENUM('MALE','FEMALE'),
       	 NATIONALITY      	 VARCHAR(30) NOT NULL,
	 EMAIL       	 	 VARCHAR(30) NOT NULL,	 
	
	 PRIMARY KEY (STUDENT_ID) );


CREATE TABLE SPECIAL_NEED (
       	 SN_CODE      		 VARCHAR(30) NOT NULL,
	 DESCRIPTION      	 VARCHAR(30) NOT NULL,

     	 PRIMARY KEY (SN_CODE) );


CREATE TABLE PROGRAMME (
         PROG_CODE        	 VARCHAR(30) NOT NULL,
	 PROG_NAME		 VARCHAR(30) NOT NULL,
	 NFQ_LEVEL		 VARCHAR(30) NOT NULL,
	 AWARD_TYPE		 VARCHAR(30) NOT NULL,
	 FT_PT			 ENUM('FULL TIME','PART TIME'),
	 T_R			 ENUM('TAUGHT','RESEARCHED'),
	 CURRENTLY_OFFERED_YN	 ENUM('YES','NO'),
	 TOTAL_ECTS		 VARCHAR(30) NOT NULL,
	
	 PRIMARY KEY (PROG_CODE) );


CREATE TABLE MODULE (
       	 MOD_CODE            	 VARCHAR(30) NOT NULL,
       	 MOD_NAME           	 VARCHAR(30) NOT NULL,
       	 ECTS_UNITS          	 VARCHAR(30) NOT NULL,
       	 DESCRIPTION		 VARCHAR(30) NOT NULL,
         
         PRIMARY KEY (MOD_CODE) );


CREATE TABLE STUDENT_HAS_SN (
         STUDENT_ID	 	 VARCHAR(30) NOT NULL,
	 SN_CODE	 	 VARCHAR(30) NOT NULL,
       	 REQ_SUPPORT	 	 VARCHAR(30) NOT NULL,
       	 
	 PRIMARY KEY (STUDENT_ID, SN_CODE),
	 
	 FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT(STUDENT_ID),
	 FOREIGN KEY (SN_CODE) REFERENCES SPECIAL_NEED(SN_CODE) );


CREATE TABLE STUDENT_MODULE_DATA(
       	 STUDENT_ID	 	 VARCHAR(30) NOT NULL, 
       	 MOD_CODE           	 VARCHAR(30) NOT NULL,
       	 YEAR            	 INT(10) NOT NULL,
       	 ATTENDANCE_PERCENTAGE   vARCHAR(10) NOT NULL,
       	 OVERALL_MARK		 vARCHAR(30) NOT NULL,
	 NOTES			 vARCHAR(30) NOT NULL,
	 
	 PRIMARY KEY (STUDENT_ID, MOD_CODE, YEAR),
	 
	 FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT_ID(STUDENT_ID),
	 FOREIGN KEY (MOD_CODE) REFERENCES MODULE(MOD_CODE) );


CREATE TABLE REGISTRATION (
       	 STUDENT_ID       	 VARCHAR(30) NOT NULL,
       	 PROG_CODE            	 VARCHAR(30) NOT NULL,
       	 YEAR  	 		 INT(30) NOT NULL,
       	 
	 PRIMARY KEY (STUDENT_ID, PROG_CODE),
	 
 	 FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT_ID(STUDENT_ID),
	 FOREIGN KEY (PROG_CODE) REFERENCES PROGRAMME(PROG_CODE) );


CREATE TABLE SYLLABUS (
       	 PROG_CODE    	 	 VARCHAR(30) NOT NULL,
       	 MOD_CODE  	 	 VARCHAR(30) NOT NULL,
       	 OPTIONAL_YN       	 ENUM('YES','NO') NOT NULL,
       	 
	 PRIMARY KEY (PROG_CODE, MOD_CODE),
	 
	 FOREIGN KEY (PROG_CODE) REFERENCES PROGRAMME(PROG_CODE), 
	 FOREIGN KEY (MOD_CODE) REFERENCES MODULE(MOD_CODE) );